" Vim syntax file
" Language: Odin
" Maintainer: Tyler Erickson

" if exists("b:current_syntax")
    " finish
" endif

" Keywords
syn keyword odinKeyword import do for while in deferi match return using
syn keyword odinConditional if else when
syn keyword odinLabel case

" Types
syn keyword odinBuiltinTypes int i8 i16 i32 i64 i128 uint u8 u16 u32 u64 u128 f32 f64 rawptr string byte rune proc struct union any
syn keyword odinUntyped untyped nextgroup=odinUntypedTypes skipwhite
syn keyword odinUntypedTypes bool integer float pointer string rune

syn match odinTypes contained "[a-zA-z_]*"

" Functions
syn match odinFunction "[a-z_]\w*(\@=" nextgroup=odinFunctionParameters
syn match odinFunctionDeclaration "\(^\s*\)\@<=[a-z_][a-zA-Z_]*\(\s*::\s*proc\)\@=" nextgroup=odinFuncType skipwhite
syn match odinFuncTypeDec "::" nextgroup=odinProc,odinType

" Operators
" syn keyword odinOperator + - / * ^ % ~ += -=
syn match odinOperator "\(+=\|-=\|\/\|\*\|\^\|%\|\~\|+\|-\|&\|>>\|<<\|>=\|<=\|==\|>\|<\)"

" Numbers
syn match odinDecimal "\W\@<=[0-9]\+\.[0-9]\+"
syn match odinInteger "\W\@<=[0-9]\+"

" Bools
syn keyword odinBoolean true false
syn keyword odinNil nil

" Strings
syn region odinString  start='"' end='"'
syn region odinCharacter  start="'" end="'"

" Comments
syn region odinCommentBlock start="/\*" end="\*/"
syn match odinComment "//.*$"


let b:current_syntax = "odin"
hi def link odinKeyword Statement
hi def link odinString String
hi def link odinCharacter Character
" hi def link odinUserTypes Type
hi def link odinBuiltinTypes Type
hi def link odinUntyped Identifier
hi def link odinUntypedTypes Type
hi def link odinComment Comment
hi def link odinCommentBlock Comment
hi def link odinInteger Number
hi def link odinDecimal Number
hi def link odinFunction Function
hi def link odinBoolean Constant
hi def link odinOperator Statement
hi def link odinNil Constant
hi def link odinConditional Conditional
hi def link odinLabel Label
